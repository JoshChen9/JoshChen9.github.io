[{"title":"git学习","url":"/2025/11/25/git%E5%AD%A6%E4%B9%A0/","content":"git学习——learn git branchinghttps://github.com/pcottle/learnGitBranching\n基础git命令git commit：提交git branch：建立新分支git checkout或git switch：切换到某一分支\n","categories":["git"],"tags":["git"]},{"title":"无感控制之滑模观测器","url":"/2025/12/01/%E6%97%A0%E6%84%9F%E6%8E%A7%E5%88%B6%E4%B9%8B%E6%BB%91%E6%A8%A1%E8%A7%82%E6%B5%8B%E5%99%A8/","content":"无感控制之滑模观测器(SMO)1. 原理1.1 传统滑模观测器设计永磁同步电机在d、q轴上的电压方程：\n\n\\begin{cases}\n    {u_d} = {L_d}pi_d- {\\omega _e}{L_q}{i_q} + {R_s}{i_d} & \\\\\n    {u_q} = {L_q}pi_q + {\\omega _e}{L_d}{i_d} + {\\omega _e}{\\psi _f} + {R_s}{i_q}\n \\end{cases}大多数传统滑膜观测器(Sliding Mode Observer,  SMO)算法的设计是基于静止坐标系下的电机数学模型的，这是因为我们的目标是实现无感控制，不知道转子位置角，我们期望通过、坐标系下的定子电压来估计转子位置。因此首先要写出、轴上的电压方程。(网上大部分教程都是直接得到、轴上的电压方程，但是其实这个推导过程是比较复杂的，而且很多教程甚至电压方程都是错的)\n首先将d、q轴上的电压方程进行重构，便于后面化简：\n\n\\begin{bmatrix}\nu_d\\\\\nu_q\n\\end{bmatrix}\n=\n\\begin{bmatrix}\nR+pL_d & -\\omega_eL_q \\\\\n\\omega_eL_q & R+pL_d \n\\end{bmatrix}\n\\begin{bmatrix}\ni_d\\\\\ni_q\n\\end{bmatrix}+\n\\begin{bmatrix}\n0\\\\\n(L_d-L_q)(\\omega_ei_d-pi_q)+\\omega_e\\psi_f\n\\end{bmatrix}乘以Anti-Park矩阵将上式变换到、坐标系下：\n\n\\begin{bmatrix}\nu_\\alpha \\\\\nu_\\beta\n\\end{bmatrix}\n=\n\\begin{bmatrix}\ncos\\theta_e & -sin\\theta_e\\\\\nsin\\theta_e & cos\\theta_e\n\\end{bmatrix}\n\\begin{bmatrix}\nR+pL_d & -\\omega_eL_q \\\\\n\\omega_eL_q & R+pL_d \n\\end{bmatrix}\n\\begin{bmatrix}\ni_d\\\\\ni_q\n\\end{bmatrix}+\n\\begin{bmatrix}\ncos\\theta_e & -sin\\theta_e\\\\\nsin\\theta_e & cos\\theta_e\n\\end{bmatrix}\n\\begin{bmatrix}\n0\\\\\n(L_d-L_q)(\\omega_ei_d-pi_q)+\\omega_e\\psi_f\n\\end{bmatrix}化简得：\n\n\\begin{bmatrix}\nu_\\alpha \\\\\nu_\\beta\n\\end{bmatrix}\n=\n\\begin{bmatrix}\nR+pL_d & \\omega_e(L_d-L_q) \\\\\n-\\omega_e(L_d-L_q) & R+pL_d \n\\end{bmatrix}\n\\begin{bmatrix}\ni_\\alpha \\\\\ni_\\beta\n\\end{bmatrix}+\n\\begin{bmatrix}\nE_\\alpha \\\\\nE_\\beta\n\\end{bmatrix}其中，$E\\alpha、E\\beta$为扩展反电动势：\n\n\\begin{bmatrix}\nE_\\alpha \\\\\nE_\\beta\n\\end{bmatrix}=\n[(L_d-L_q)(\\omega_ei_d-pi_q)+\\omega_e\\psi_f]\n\\begin{bmatrix}\n-sin\\theta_e \\\\\ncos\\theta_e\n\\end{bmatrix}在上面的推导过程中，有一个地方很容易出错，我一开始在推导时一直没有看出来，后来反复检查才发现。对于$Ldpi_dcos\\theta-L_dpi_qsin\\theta这一项，因为有i\\alpha=idcos\\theta-i_qsin\\theta，容易直接化简为L_dpi\\alpha$，但这是完全错误的。因为：\n\n\\begin{align}\nL_dpi_\\alpha &= L_d\\frac{di_\\alpha}{dt} \\\\\n&=L_d\\frac{d}{dt}(i_dcos\\theta_e-i_qsin\\theta_e) \\\\\n&=L_d\\frac{di_d}{dt}cos\\theta_e-L_di_dsin\\theta_e\\frac{d\\theta}{dt}\n-L_d\\frac{di_q}{dt}sin\\theta_e-L_di_qcos\\theta_e\\frac{d\\theta}{dt} \\\\\n&=L_dpi_dcos\\theta_e-\\omega_eL_di_dsin\\theta_e-L_dpi_qsin\\theta_e-\\omega_eL_di_qcos\\theta_e\n\\end{align}所以：\n\n\\begin{equation}\nL_dpi_dcos\\theta-L_dpi_qsin\\theta=\nL_dpi_\\alpha+\\omega_eL_di_dsin\\theta_e+\\omega_eL_di_qcos\\theta_e\n\\end{equation}对于表贴式永磁同步电机()，有：\n\n\\begin{bmatrix}\nu_\\alpha \\\\\nu_\\beta\n\\end{bmatrix}\n=\n\\begin{bmatrix}\nR+pL_d & 0\\\\\n0 & R+pL_d \n\\end{bmatrix}\n\\begin{bmatrix}\ni_\\alpha \\\\\ni_\\beta\n\\end{bmatrix}+\n\\begin{bmatrix}\nE_\\alpha \\\\\nE_\\beta\n\\end{bmatrix}\n\\begin{bmatrix}\nE_\\alpha \\\\\nE_\\beta\n\\end{bmatrix}=\n\\omega_e\\psi_f\n\\begin{bmatrix}\n-sin\\theta_e \\\\\ncos\\theta_e\n\\end{bmatrix}因此\n","categories":["电机控制"],"tags":["无感控制","电机控制"]},{"title":"无差拍预测电流控制(DPCC)及其鲁棒性提升策略","url":"/2025/11/21/%E6%97%A0%E5%B7%AE%E6%8B%8D%E9%A2%84%E6%B5%8B%E7%94%B5%E6%B5%81%E6%8E%A7%E5%88%B6(DPCC)%E5%8F%8A%E5%85%B6%E9%B2%81%E6%A3%92%E6%80%A7%E6%8F%90%E5%8D%87%E7%AD%96%E7%95%A5/","content":"1. 概述传统FOC控制框架下的PI电流控制环节虽然结构简单，但是无法实现dq轴的完全解耦，因此无法实现最优的电流控制性能。常见的前馈解耦策略在电机参数失配的情况下，解耦效果下降，也有研究提出将内模控制策略或滑膜控制应用于电流控制环节，以消除参数摄动带来的影响，但是存在电流纹波增大和“抖振”等问题。模型预测电流控制MPCC就是将FOC中的PI电流控制环节替换为MPC控制，实现高度解耦，性能最优的电流调节。\nMPCC可以分为有限集模型预测电流控制FCS-MPCC和连续集模型预测电流控制CCS-MPCC。FCS-MPCC通过计算不同逆变器电压矢量作用下电机下个时刻的dq轴电流，并根据最小价值函数的原则，选择最优的电压矢量，无需PWM调制环节。CCS-MPCC则是根据价值函数先计算出最优的电压矢量，再将最优的电压空间矢量输入PWM调制环节进行调制。CCS-MPCC可以预测单个或未来多个周期的电流，也可以使用多种价值函数以实现多目标优化。其中，专注于电流无差拍跟踪的单步CCS-MPCC也被称为无差拍预测电流控制（Deadbeat Predictive Current Control，DPCC）。DPCC主要面临以下两个问题：1. 数字控制系统固有的计算时延，这会导致当前时刻计算出的最优电压矢量在下个时刻才能作用于电机，影响控制效果。2. DPCC是模型预测控制方法，其控制效果基于模型参数的准确性，但电机工作时的温升等问题必然引起电机参数摄动，导致模型参数失配，从而影响控制性能。针对问题1，一般采用一拍数字延时，使得电流在两个控制周期后完全跟随电流给定。针对问题2，一般采用在线参数辨识或增加观测器的方法。本文主要探讨了基于扩张状态观测器的方法。\n本文从DPCC出发，介绍了DPCC的原理。为了提升鲁棒性，引入了扩张状态观测器，介绍了DPCC+ESO方法的原理。更进一步，有了扩张状态观测器后，直接不需要原来的电机模型了，可以采用一个超局部模型(Ultra-local Model)，即基于扩张状态观测器的无模型预测电流控制MFPCC+ESO方法。本文还介绍了这三种控制方法在MATLAB/Simulink中仿真模型的搭建方法，展示了仿真结果。\n2. 原理2.1 DPCC永磁同步电机建模如下：\n\n\\begin{cases}\n    {u_d} = {L_d}\\frac{di_d}{dt} - {\\omega _e}{L_q}{i_q} + {R_s}{i_d} & \\\\\n    {u_q} = {L_q}\\frac{di_q}{dt} + {\\omega _e}{L_d}{i_d} + {\\omega _e}{\\psi _f} + {R_s}{i_q}\n \\end{cases}选取电机定子d、q轴电流为状态变量，可以得到PMSM的状态方程如下：\n\n\\begin{bmatrix}\n    \\frac{di_d}{dt} \\\\\n    \\frac{di_q}{dt}\n\\end{bmatrix}\n=\n\\begin{bmatrix}\n    -\\frac{R_s}{L_d} & {\\omega _e}\\frac{L_q}{L_d} \\\\\n    -\\omega _e\\frac{L_d}{L_q} & - \\frac{R_s}{L_q}\n\\end{bmatrix}\n\\begin{bmatrix}\n    {i_d}\\\\\n    {i_q}\n\\end{bmatrix} +\n\\begin{bmatrix}\n    \\frac{1}{L_d} & 0 \\\\\n    0 & \\frac{1}{L_q}\n\\end{bmatrix}\n\\begin{bmatrix}\n    {u_d} \\\\\n    {u_q}\n\\end{bmatrix}+\n\\begin{bmatrix}\n    0 \\\\\n    - {\\omega _e}\\frac{\\psi _f}{L_q}\n\\end{bmatrix}及其鲁棒性提升策略/DPCC.png “DPCC控制框图”)\n2.2 DPCC+ESO及其鲁棒性提升策略/DPCC+ESO.png “DPCC+ESO控制框图”)\n2.3 MFPCC+ESO3. 仿真搭建4. 仿真结果5. 结论","categories":["电机控制"],"tags":["电机控制"]},{"title":"模板","url":"/2025/11/20/%E6%A8%A1%E6%9D%BF/","content":"一级标题公式测试\n\n\\left(\n\\begin{matrix}\na & b \\\\\nc & d\n\\end{matrix}\n\\right)","categories":["日志"],"tags":["测试"]}]