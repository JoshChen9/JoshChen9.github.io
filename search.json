[{"title":"git学习","url":"/2025/11/25/git%E5%AD%A6%E4%B9%A0/","content":"git学习——learn git branching\r\nhttps://github.com/pcottle/learnGitBranching\r\n基础git命令\r\ngit commit：提交\r\ngit branch：建立新分支\r\ngit checkout或git switch：切换到某一分支\r\n","categories":["git"],"tags":["git"]},{"title":"无差拍预测电流控制(DPCC)及其鲁棒性提升策略","url":"/2025/11/21/%E6%97%A0%E5%B7%AE%E6%8B%8D%E9%A2%84%E6%B5%8B%E7%94%B5%E6%B5%81%E6%8E%A7%E5%88%B6(DPCC)%E5%8F%8A%E5%85%B6%E9%B2%81%E6%A3%92%E6%80%A7%E6%8F%90%E5%8D%87%E7%AD%96%E7%95%A5/","content":"概述\r\n传统FOC控制框架下的PI电流控制环节虽然结构简单，但是无法实现dq轴的完全解耦，因此无法实现最优的电流控制性能。常见的前馈解耦策略在电机参数失配的情况下，解耦效果下降，也有研究提出将内模控制策略或滑膜控制应用于电流控制环节，以消除参数摄动带来的影响，但是存在电流纹波增大和“抖振”等问题。模型预测电流控制MPCC就是将FOC中的PI电流控制环节替换为MPC控制，实现高度解耦，性能最优的电流调节。\r\nMPCC可以分为有限集模型预测电流控制FCS-MPCC和连续集模型预测电流控制CCS-MPCC。FCS-MPCC通过计算不同逆变器电压矢量作用下电机下个时刻的dq轴电流，并根据最小价值函数的原则，选择最优的电压矢量，无需PWM调制环节。CCS-MPCC则是根据价值函数先计算出最优的电压矢量，再将最优的电压空间矢量输入PWM调制环节进行调制。CCS-MPCC可以预测单个或未来多个周期的电流，也可以使用多种价值函数以实现多目标优化。其中，专注于电流无差拍跟踪的单步CCS-MPCC也被称为无差拍预测电流控制（Deadbeat\r\nPredictive Current Control，DPCC）。DPCC主要面临以下两个问题：1.\r\n数字控制系统固有的计算时延，这会导致当前时刻计算出的最优电压矢量在下个时刻才能作用于电机，影响控制效果。2.\r\nDPCC是模型预测控制方法，其控制效果基于模型参数的准确性，但电机工作时的温升等问题必然引起电机参数摄动，导致模型参数失配，从而影响控制性能。针对问题1，一般采用一拍数字延时，使得电流在两个控制周期后完全跟随电流给定。针对问题2，一般采用在线参数辨识或增加观测器的方法。本文主要探讨了基于扩张状态观测器的方法。\r\n本文从DPCC出发，介绍了DPCC的原理。为了提升鲁棒性，引入了扩张状态观测器，介绍了DPCC+ESO方法的原理。更进一步，有了扩张状态观测器后，直接不需要原来的电机模型了，可以采用一个超局部模型(Ultra-local\r\nModel)，即基于扩张状态观测器的无模型预测电流控制MFPCC+ESO方法。本文还介绍了这三种控制方法在MATLAB/Simulink中仿真模型的搭建方法，展示了仿真结果。\r\n原理\r\nDPCC\r\n永磁同步电机建模如下：  选取电机定子d、q轴电流为状态变量，可以得到PMSM的状态方程如下：\r\n\r\n\r\n\r\nDPCC框图\r\n\r\nDPCC+ESO\r\n\r\n\r\nDPCC+ESO\r\n\r\nMFPCC+ESO\r\n仿真搭建\r\n仿真结果\r\n结论\r\n","categories":["电机控制"],"tags":["电机控制"]},{"title":"模板","url":"/2025/11/20/%E6%A8%A1%E6%9D%BF/","content":"一级标题\r\n公式测试\r\nα = 4 \r\n","categories":["日志"],"tags":["测试"]},{"title":"无感控制之滑模观测器","url":"/2025/12/01/%E6%97%A0%E6%84%9F%E6%8E%A7%E5%88%B6%E4%B9%8B%E6%BB%91%E6%A8%A1%E8%A7%82%E6%B5%8B%E5%99%A8/","content":"原理\r\n传统滑模观测器算法\r\n传统滑模观测器算法先估计含有转子位置信号的扩展反电动势值，然后通过反正切函数或锁相环提取扩展反电动势中的转子位置和转速信号。\r\n扩展反电动势估计\r\n永磁同步电机在d、q轴上的电压方程：  大多数传统滑膜观测器(Sliding Mode Observer,\r\nSMO)算法的设计是基于静止坐标系下的电机数学模型的，这是因为我们的目标是实现无感控制，不知道转子位置角，我们期望通过α、β坐标系下的定子电压来估计转子位置。因此首先要写出α、β轴上的电压方程。(网上大部分教程都是直接得到α、β轴上的电压方程，但是其实这个推导过程是比较复杂的，而且很多教程甚至电压方程都是错的)\r\n首先将d、q轴上的电压方程进行重构，便于后面化简：  乘以Anti-Park矩阵将上式变换到α、β坐标系下：  化简得：  其中，Eα、Eβ为扩展反电动势：\r\n\r\n在上面的推导过程中，有一个地方很容易出错，我一开始在推导时一直没有看出来，后来反复检查才发现。对于Ldpidcosθe − Ldpiqsinθe这一项，因为有iα = idcosθe − iqsinθe，容易直接化简为Ldpiα，但这是完全错误的。因为：\r\n 所以：  对于表贴式永磁同步电机( Ld = Lq = Ls\r\n)，有： \r\n\r\n此时扩展反电动势仅与电机转子位置和转速有关。而对于内置式永磁同步电机而言，扩展反电动势除了和转子位置与速度相关，还与id和piq有关。\r\n可以将式(4)改写成电流的状态方程如下： \r\n为了获得扩展反电动势的估计值，传统SMO预测部分表达式如下：\r\n 其中，扩展反电动势遵循滑模控制率，表达式为： \r\n上式中、 从微观上看，某一瞬间是一个固定值±k，但从宏观上看，是一个会变化的值，和占空比有关，类似于SVPWM波的调制\r\n将式(14)-式(13)，可以得到定子电流误差方程： \r\n上式中，\r\n为电流观测误差。\r\n对上式进行分析：当时，如果k取得足够大，，电流观测误差向0靠近；时，如果k取得足够大，，电流观测误差也向0靠近。\r\n因此，如果k取得合适，观测值会向实际值收敛，直到观测误差为0。如下图所示。\r\n\r\n\r\n趋近滑模面\r\n\r\n那么如何确定合适的k值呢？\r\nk值太大会导致预测电流震荡，系统无法稳定；k值太小又会导致预测电流收敛到真实值的速度太慢。所以最好在确保系统稳定的前提下取较大的k值。\r\n这里通过Lyapunov第二法确定系统稳定性。\r\n\r\nlyapunov第二法：定义Lyapunov函数V(x)，满足以下条件时，系统渐进稳定\r\n\r\n\r\n设误差矩阵：  取lyapunov函数为：  易知，满足条件一、三。因此，只要再满足条件二就能使系统稳定：\r\n 当时，应满足，即，即\r\n当时，应满足，即，即\r\n因此，当时，V̇(s1)为s1的lyapunov函数，观测误差全局渐进稳定，即观测值最终会跟随实际值。\r\n同理，当时，V̇(s1)为s1的lyapunov函数，观测误差全局渐进稳定，即观测值最终会跟随实际值。\r\n综上，当时，观测值最终会跟随实际值。对于表贴式永磁同步电机，有Ld = Lq = Ls，此时k只需要满足即可。\r\n转子位置估计\r\n在得到扩展反电动势的估计值后，需要从中提取出转子的位置和转速信息。常用的方法有两种：基于反正切函数的转子位置估计和基于锁相环的转子位置估计。\r\n基于反正切函数的转子位置估计\r\n基于锁相环的转子位置估计\r\n仿真\r\n","categories":["电机控制"],"tags":["电机控制","无感控制"]}]