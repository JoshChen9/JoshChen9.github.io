[{"title":"git学习","url":"/2025/11/25/git%E5%AD%A6%E4%B9%A0/","content":"git学习——learn git branching\nhttps://github.com/pcottle/learnGitBranching\n基础git命令\ngit commit：提交\ngit branch：建立新分支\ngit checkout或git switch：切换到某一分支\n","categories":["git"],"tags":["git"]},{"title":"simulink中电机控制仿真的注意事项","url":"/2025/11/22/simulink%E4%B8%AD%E7%94%B5%E6%9C%BA%E6%8E%A7%E5%88%B6%E4%BB%BF%E7%9C%9F%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/","content":"一级标题\n公式测试\nα=4\\alpha=4α=4\n(abcd)\\left(\n\\begin{matrix}\na &amp; b \\\\\nc &amp; d\n\\end{matrix}\n\\right)\n(ac​bd​)\n#结论\n","categories":["日志"],"tags":["测试"]},{"title":"无差拍预测电流控制(DPCC)及其鲁棒性提升策略","url":"/2025/11/21/%E6%97%A0%E5%B7%AE%E6%8B%8D%E9%A2%84%E6%B5%8B%E7%94%B5%E6%B5%81%E6%8E%A7%E5%88%B6(DPCC)%E5%8F%8A%E5%85%B6%E9%B2%81%E6%A3%92%E6%80%A7%E6%8F%90%E5%8D%87%E7%AD%96%E7%95%A5/","content":"概述\n\n\n传统FOC控制框架下的PI电流控制环节虽然结构简单，但是无法实现dq轴的完全解耦，因此无法实现最优的电流控制性能。常见的前馈解耦策略在电机参数失配的情况下，解耦效果下降，也有研究提出将内模控制策略或滑膜控制应用于电流控制环节，以消除参数摄动带来的影响，但是存在电流纹波增大和“抖振”等问题。模型预测电流控制MPCC就是将FOC中的PI电流控制环节替换为MPC控制，实现高度解耦，性能最优的电流调节。\n\nMPCC可以分为有限集模型预测电流控制FCS-MPCC和连续集模型预测电流控制CCS-MPCC。FCS-MPCC通过计算不同逆变器电压矢量作用下电机下个时刻的dq轴电流，并根据最小价值函数的原则，选择最优的电压矢量，无需PWM调制环节。CCS-MPCC则是根据价值函数先计算出最优的电压矢量，再将最优的电压空间矢量输入PWM调制环节进行调制。CCS-MPCC可以预测单个或未来多个周期的电流，也可以使用多种价值函数以实现多目标优化。其中，专注于电流无差拍跟踪的单步CCS-MPCC也被称为无差拍预测电流控制（Deadbeat Predictive Current Control，DPCC）。DPCC主要面临以下两个问题：1. 数字控制系统固有的计算时延，这会导致当前时刻计算出的最优电压矢量在下个时刻才能作用于电机，影响控制效果。2. DPCC是模型预测控制方法，其控制效果基于模型参数的准确性，但电机工作时的温升等问题必然引起电机参数摄动，导致模型参数失配，从而影响控制性能。针对问题1，一般采用一拍数字延时，使得电流在两个控制周期后完全跟随电流给定。针对问题2，一般采用在线参数辨识或增加观测器的方法。本文主要探讨了基于扩张状态观测器的方法。\n\n本文从**DPCC**出发，介绍了DPCC的原理。为了提升鲁棒性，引入了扩张状态观测器，介绍了**DPCC+ESO**方法的原理。更进一步，有了扩张状态观测器后，直接不需要原来的电机模型了，可以采用一个超局部模型(Ultra-local Model)，即基于扩张状态观测器的无模型预测电流控制**MFPCC+ESO**方法。本文还介绍了这三种控制方法在MATLAB/Simulink中仿真模型的搭建方法，展示了仿真结果。\n\n# 原理\n##  DPCC\n\n永磁电机建模如下：\n$$\n\\left\\{ \\begin{array}{l}\n    {u_d} = {L_d}\\frac{ {d{i_d}} }{ {dt} } - {\\omega _e}{L_q}{i_q} + {R_s}{i_d} & \\\\\n    {u_q} = {L_q}\\frac{ {d{i_q}} }{ {dt} } + {\\omega _e}{L_d}{i_d} + {\\omega _e}{\\psi _f} + {R_s}{i_q}\n    \\end{array} \n    \\right.\n$$\n选取电机定子d、q轴电流为状态变量，可以得到PMSM的状态方程如下：\n\n\n$$\n\\left[ {\\begin{array}{*{20}{c}}\n{\\frac{{d{i_d}}}{ {dt}}}\\\\\n{\\frac{{d{i_q}}}{ {dt}}}\n\\end{array}} \\right] = \\left[ {\\begin{array}{*{20}{c}}\n{ - \\frac{{{R_s}}}{{{L_d}}}}&{ {\\omega _e}\\frac{{{L_q}}}{{{L_d}}}}\\\\\n{ - {\\omega _e}\\frac{{{L_d}}}{{{L_q}}}}&{ - \\frac{{{R_s}}}{{{L_q}}}}\n\\end{array}} \\right]\\left[ {\\begin{array}{*{20}{c}}\n{{i_d}}\\\\\n{{i_q}}\n\\end{array}} \\right] + \\left[ {\\begin{array}{*{20}{c}}\n{\\frac{1}{ { {L_d} } } }&0\\\\\n0&{\\frac{1}{ { {L_q} } } }\n\\end{array}} \\right]\\left[ {\\begin{array}{*{20}{c}}\n{{u_d}}\\\\\n{{u_q}}\n\\end{array}} \\right] + \\left[ {\\begin{array}{*{20}{c}}\n0\\\\\n{ - {\\omega _e}\\frac{{{\\psi _f}}}{{{L_q}}}}\n\\end{array}} \\right]\n$$\n\n根据前向欧拉法，可将PMSM状态方程离散化：\n$$\n{\\bf{I}}(k + 1) = {\\bf{I}}(k) + {T_s}\\left[ {{\\bf{A}}(k){\\bf{I}}(k) + {\\bf{BU}}(k) + {\\bf{E}}(k)} \\right]\n$$\n上式中${\\bf{A}}(k) = \\left[ {\\begin{array}{*{20}{c}}\n{ - \\frac{{{R_s}}}{{{L_d}}}}&{{\\omega _e}(k)\\frac{{{L_q}}}{{{L_d}}}}\\\\\n{ - {\\omega _e}(k)\\frac{{{L_d}}}{{{L_q}}}}&{ - \\frac{{{R_s}}}{{{L_q}}}}\n\\end{array}} \\right]$，${\\bf{B}} = \\left[ {\\begin{array}{*{20}{c}}\n{\\frac{1}{{{L_d}}}}&0\\\\\n0&{\\frac{1}{{{L_q}}}}\n\\end{array}} \\right]$,${\\bf{E}}(k) = \\left[ {\\begin{array}{*{20}{c}}\n0\\\\\n{ - {\\omega _e}(k)\\frac{{{\\psi _f}}}{{{L_q}}}}\n\\end{array}} \\right]$，${\\bf{I}}(k) = \\left[ {\\begin{array}{*{20}{c}}\n{{i_d}(k)}\\\\\n{{i_q}(k)}\n\\end{array}} \\right]$，${\\bf{U}}(k) = \\left[ {\\begin{array}{*{20}{c}}\n{{u_d}(k)}\\\\\n{{u_q}(k)}\n\\end{array}} \\right]$。\n\n由于数字控制系统固有的计算时延，当前时刻计算出的最优电压矢量在下个时刻才能作用于电机，因此需要进行一拍延时补偿，根据第k时刻的电压电流值计算出第(k+1)时刻的定子d、q轴电流：\n$$\n\\widehat {\\bf{I}}(k + 1) = {\\bf{I}}(k) + {T_s}\\left[ {{\\bf{A}}(k){\\bf{I}}(k) + {\\bf{BU}}(k) + {\\bf{E}}(k)} \\right]\n$$\n同样地，可以预测出第(k+2)时刻的定子d、q轴电流：\n$$\n\\widehat {\\bf{I}}(k + 2) = \\widehat {\\bf{I}}(k + 1) + {T_s}\\left[ {{\\bf{A}}(k + 1)\\widehat {\\bf{I}}(k + 1) + {\\bf{BU}}(k + 1) + {\\bf{E}}(k + 1)} \\right]\n$$\n上式中矩阵${\\bf{A}}(k + 1)$、${\\bf{E}}(k + 1)$中随时间变化的量为${\\omega _e}(k + 1)$，由于电机的机械时间常数远大于微处理器的一个控制周期，所以可以认为 ${\\omega _e}(k + 1) \\approx {\\omega _e}(k)$，${\\bf{A}}(k + 1) \\approx {\\bf{A}}(k)$、${\\bf{E}}(k + 1) \\approx {\\bf{E}}(k)$。\n\nDPCC希望电机电流在第(k+2)时刻达到给定值，所以可以求解出第(k+1)时刻期望施加的电压，第(k+1)时刻电压参考值表达式为：\n$$\n{{\\bf{U}}^*}(k + 1) = \\frac{{{{\\bf{B}}^{ - 1}}}}{{{T_s}}}{{\\bf{I}}^*}(k) - \\frac{{{{\\bf{B}}^{ - 1}}}}{{{T_s}}}\\widehat {\\bf{I}}(k + 1) - {{\\bf{B}}^{ - 1}}{\\bf{A}}(k)\\widehat {\\bf{I}}(k + 1) - {{\\bf{B}}^{ - 1}}{\\bf{E}}(k)\n$$\n上式中\n\n\n\n![DPCC框图](无差拍预测电流控制(DPCC)及其鲁棒性提升策略/DPCC.png \"DPCC控制框图\")\n\n\n\n##  DPCC+ESO\n\n![DPCC+ESO](无差拍预测电流控制(DPCC)及其鲁棒性提升策略/DPCC+ESO.png \"DPCC+ESO控制框图\")\n\n\n\n##  MFPCC+ESO\n# 仿真搭建\n# 仿真结果\n# 结论\n\n","categories":["电机控制"],"tags":["电机控制"]},{"title":"模板","url":"/2025/11/20/%E6%A8%A1%E6%9D%BF/","content":"一级标题\n公式测试\nα=4\\alpha=4α=4\n(abcd)\\left(\n\\begin{matrix}\na &amp; b \\\\\nc &amp; d\n\\end{matrix}\n\\right)\n(ac​bd​)\n","categories":["日志"],"tags":["测试"]}]